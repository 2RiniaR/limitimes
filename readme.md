# Limitimes

[限界開発鯖](https://approvers.dev)のdiscordサーバー内で、独り言を呟けるようにするプロジェクトです。

## お知らせ

企画に関して、独断で判断できない部分があるため、現在みなさんのご意見をお待ちしております。ご自由に追記してください。


## 概要

### リンク

- [GitHub](https://github.com)


### 参加者

興味がある方は、GitHubアカウントへのリンクとともに自身の名前を追記してください。
**ここへの記名は、議論への参加やContributeを強制するものではありません。**

- [Rinia](https://github.com/watano1168)


## 企画

### (1) 今、こういうことがしたい。

- 限界開発鯖のdiscordサーバー内に、Twitterのタイムラインのように壁打ちで話せる場所が欲しい。
- チャットよりも、更に壁一枚隔てた環境で会話したい。
- 自分の領域があるという安心感を得ながら、気まぐれで人に反応してほしい。


### (2) だけど、今の現状はこう。

#### 「無法地帯」チャンネル

チャンネル「無法地帯」では、あらゆる総合的な会話がメッセージとしてチャット形式で行われている。

当チャンネルで独り言をつぶやく際に、以下のような問題点がある。

- 進行している会話を遮ってしまう恐れがある。
- 「明らかに全員が見ている場所では言いたくない内容があるが、たまたま気になった人の目に入ってほしい」といった投稿ができない。


#### 「限界times」カテゴリ

カテゴリ「限界times」では、各ユーザー用にチャンネルが作成され、その中にメッセージとして独り言が投稿されている。また、他のユーザーのチャンネルに介入して会話が行われることもある。ただし、各ユーザーの良心により、各チャンネルは個人の領域としての役割が確立されている。

実際、前項で挙げた要求は当要素によって大方解決していると言える。ただし、現在の手法にはいくつか問題点が存在する。

- 各ユーザーの投稿を見るために、見たいユーザー全員分のチャンネルを**巡回**しなければいけない。
    - Twitterで例えるならば、見たいユーザー全員分のプロフィールを巡回しているような状況である。
- discordの仕様上、カテゴリやサーバーが所有できるチャンネル数の**上限**に達してしまう可能性がある。
    - カテゴリが所有するチャンネル数の上限は**50**である。
    - サーバーが所有するチャンネル数の上限は**500**である。


### (3) だから、こういうことを達成したい。

- 気になった複数のユーザーの投稿を、マージして閲覧できるようにしたい。
    - Twitterのタイムラインのようなもの。


### (4) そのためには、こうすればいいだろう。

***！！！ご意見をお待ちしております。！！！***

（解決案1）
Twitterのタイムラインのようなものは、discord botとのDMへ投稿を送信すれば実現できる。
ただし、このままでは「無法地帯」などへの投稿の引用ができない。これを解決するため、限界開発鯖内の特定のチャンネルに全投稿を送信するようにして、当botと各ユーザー間のDMにはその投稿への引用を「MessageQuote」のような形式で送信するものとする。
そうすると、肝心の独り言の投稿方法はどうなるのかというと、当botとのDMに送信されたメッセージを投稿とすればよい。

### (5) さらに、こういうこともできたらいいよね。

- いいね機能が欲しい。
- Twitterのリツイートのような機能が欲しい。


## 用語集

| 用語 | 意味 |
| -------- | -------- |
| limitimes-bot | 当システムで動作するdiscord botクライアント。 |
| ユーザー | 当サービスを利用する利用者。discordアカウントを必ず1つ所持している。 |
| 投稿 | ユーザーが発言したい内容。テキストだけでなく、画像や動画も含む。 |
| タイムライン | ユーザーが発言したいメッセージを、limitimes-botが代理で送信する先のdiscordチャンネル。 |
| 送信 | ユーザーが、「タイムラインへメッセージを送信する」ことをlimitimes-botに依頼すること。 |


## 機能

当システムは、discord用botアプリケーションを用いて制作することにする。

### ユースケース

- ユーザーが、タイムラインにメッセージを投稿することができる。


### ユーザー目線での利用の流れ

ユーザーがタイムライン内で呟くためには、以下の操作をします。


### 仕様


## 開発

### 備考

当プロジェクトは、既存のプロジェクトである「MessageQuote」を拡張するものとする。


### 技術選定

【使用言語】
[TypeScript](https://www.typescriptlang.org)

【ライブラリ】
[discord.js](https://discord.js.org)


### 設計指針

当プロジェクトのソースコード設計は、**オブジェクト指向**で行う。また、設計アーキテクチャとして、**MVCアーキテクチャ**を採用する。
設計時のコンセプトとして、**ミニマル**な設計を目指す。そのため、その時点で必要のない抽象化や実装は行わないよう心がけること。
